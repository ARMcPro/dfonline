{"mappings":"8fAoBSA,IACL,IAAIC,EAAO,CAACC,OAAS,CAAC,CAACC,GAAK,QAAQC,MAAQ,UAAUC,KAAO,CAACC,MAAQ,IAAIC,OAAS,GAAGC,OAAS,GAAGC,SAAW,MAC7GR,EAAa,OAAE,GAAW,OAAKS,SAASC,eAAe,UAA+BC,MACtFX,EAAa,OAAE,GAAW,OAAKS,SAASC,eAAe,UAA+BC,MACtFX,EAAa,OAAE,GAAa,SAAKS,SAASC,eAAe,YAAiCC,MAC1FC,EAAAC,cAAcC,KACdC,KAAKC,UACG,CAACC,KAAO,WAAWC,OAAS,6BAA6BC,KACrDJ,KAAKC,UAAU,CAACI,KAAO,YAAYD,KAAOP,EAAAS,OAAON,KAAKC,UAAUhB,kBAOvEsB,EAAYC,EAAO,GACxB,IAAIC,EAAW,IAAKf,SAASgB,iBAAiB,aAE1CC,GADUF,EAASG,WAAUC,GAAKA,IAAMnB,SAASoB,gBAC3BN,GAAQC,EAASM,OAE3CN,EADAE,EAAWA,EAAW,EAAIF,EAASM,OAAS,EAAIJ,GAC7BK,QAtCvBC,OAAOC,OAAM,KACRxB,SAASC,eAAe,QAA8BwB,QAAUnC,GAGrEiC,OAAOG,UAAYC,IACE,UAAdA,EAAMC,KACJ5B,SAASC,eAAe,QAA8B4B,QAE1C,cAAdF,EAAMC,KACLf,EAAY,IACL,GAEM,YAAdc,EAAMC,KACLf,GAAY,IACL,QAFX","sources":["src/edit/comment.ts"],"sourcesContent":["import { codeutilities, encode } from \"../main/main\";\r\n\r\nwindow.onload = () => {\r\n    (document.getElementById('send') as HTMLButtonElement).onclick = generateTheComment;\r\n}\r\n\r\nwindow.onkeydown = event => {\r\n    if(event.key === \"Enter\"){\r\n        (document.getElementById('send') as HTMLButtonElement).click();\r\n    }\r\n    if(event.key === \"ArrowDown\"){\r\n        nextElement(1);\r\n        return false;\r\n    }\r\n    if(event.key === \"ArrowUp\"){\r\n        nextElement(-1);\r\n        return false;\r\n    }\r\n}\r\n\r\nfunction generateTheComment(){\r\n    var code = {\"blocks\":[{\"id\":\"block\",\"block\":\"control\",\"args\":{\"items\":[]},\"action\":\"\",\"target\":\"\",\"inverted\":\"\"}]};\r\n    code['blocks'][0]['action'] = (document.getElementById('action') as HTMLInputElement).value\r\n    code['blocks'][0]['target'] = (document.getElementById('target') as HTMLInputElement).value\r\n    code['blocks'][0]['inverted'] = (document.getElementById('inverted') as HTMLInputElement).value\r\n    codeutilities.send(\r\n    JSON.stringify(\r\n            {\"type\":\"template\",\"source\":\"DFOnline Comment Generator\",\"data\":\r\n                JSON.stringify({\"name\":\"ยง6Comment\",\"data\":encode(JSON.stringify(code))})\r\n            }\r\n        )\r\n    );\r\n}\r\n\r\n\r\nfunction nextElement(move = 1){\r\n    var elements = [...(document.querySelectorAll('.comment') as unknown as Array<HTMLElement>)];\r\n    var current = elements.findIndex(x => x === document.activeElement);\r\n    var newIndex = (current + move) % elements.length;\r\n    newIndex = newIndex < 0 ? elements.length - 1 : newIndex;\r\n    elements[newIndex].focus();\r\n  }"],"names":["$a4139ebf373c6874$var$generateTheComment","code","blocks","id","block","args","items","action","target","inverted","document","getElementById","value","$5dkTx","codeutilities","send","JSON","stringify","type","source","data","name","encode","$a4139ebf373c6874$var$nextElement","move","elements","querySelectorAll","newIndex","findIndex","x","activeElement","length","focus","window","onload","onclick","onkeydown","event","key","click"],"version":3,"file":"comment.5d462842.js.map"}