{"mappings":"8fAESA,IACL,IAAIC,EAAMC,SAASC,cAAc,OAE7BC,EAAUF,SAASC,cAAc,KACrCC,EAAQC,UAAS,qGACjBJ,EAAIK,YAAYF,GAEhB,IAAIG,EAAUL,SAASC,cAAc,OACjCK,EAAcN,SAASC,cAAc,SACzCK,EAAYC,KAAO,OACnBD,EAAYE,YAAc,gBAC1BF,EAAYG,QAAO,KAAWT,SAASU,eAAe,kBAAwCC,SAC9FL,EAAYM,GAAK,cACjBP,EAAQD,YAAYE,GAEpB,IAAIO,EAAiBb,SAASC,cAAc,UAO5C,GANAY,EAAeV,UAAY,MAC3BU,EAAeC,MAAMC,WAAa,MAClCF,EAAeD,GAAK,iBACpBC,EAAeG,QAAO,KAAUC,eAAeC,QAAQ,SAASZ,EAAYa,OAAQC,SAASC,KAAI,UACjGhB,EAAQD,YAAYS,GACpBd,EAAIK,YAAYC,GACbiB,EAAAC,OAAO,CACN,IAAIC,EAAOxB,SAASC,cAAc,KAClCuB,EAAKrB,UAAY,2GACjBJ,EAAIK,YAAYoB,GAEpBF,EAAAG,KAAK,SAAS1B,YAGT2B,IACL,IAAI3B,EAAMC,SAASC,cAAc,OACjC,IAAIgB,eAAeU,KAAK,CACpB,IAAIC,EAAQ5B,SAASC,cAAc,KACnC2B,EAAMzB,UAAS,2PAOfJ,EAAAK,YAASwB,GACT,IAAAC,EAAwB7B,SAAAC,cAAA,SACxB4B,EAAStB,KAAO,SAAgBC,YAAoB,OAAkEqB,EAACjB,GAAA,WACvHiB,EAAIpB,QAAYqB,IACE,SAAdA,EAAAC,KAAuB/B,SAAAU,eAAsB,SAAAC,SAEjDZ,EAAAK,YAAcyB,GACd,IAAAG,EAAYhC,SAAgBC,cAAA,8BAC5B+B,EAAIpB,GAAY,QAChBoB,EAAAhB,QAAA,IAAAM,EAAAW,MAAAjC,SAAAU,eAAA,YAAAS,OAEPpB,EAAAK,YAAA4B,GAEMV,EAAMG,KAAA,QAAA1B,WAGPmC,OAAC,OACCC,cACAC,EAAQpC,SAAOU,eAAU,UAClBiB,QACCU,UAAYf,EAAGK,KAAAW,OACnBtB,QAAa,KACb,IAAAuB,EAAavC,SAAOC,cAAS,0CAC7BuC,EAAQrC,UAAY,QACpBqC,EAAIxB,QAAe,IAAQM,EAACW,MAAAX,EAAAK,KAAAc,MAE5BF,EAAAnC,YAAoBoC,OAAUE,EAAO1C,SAAiBC,cAAA,YAAYE,UAAM,SAAGuC,EAAC1B,QAAA,YACpE2B,aAAYhB,KACpBP,SAAAwB,UAGJL,EAAQnC,YAAUsC,GAElBpB,EAAAG,KAAYH,EAAAK,KAAAW,KAAAC,KAEnBH,EAAApB,QAAAU,EAED1B,SAAAU,eAAA,UACeM,QAAWlB,mBAEd+C,UAAAf,QACJgB,EAAIC,KAAAC,MAAAlB,EAAAgB,SACA,eAAAvC,KAAoB,CACxB,IAACD,EAAMN,SAAAU,eAAA,mBAEHJ,EAAYa,MAAQ4B,KAAKC,MAAMF,EAAKG,UAAUC,KACjD,MACJpD,IACJQ,EAAAa,MAAA4B,KAAAC,MAAAF,EAAAG,UAAAC","sources":["src/home/home.ts"],"sourcesContent":["import { startup, menu, login, cuopen, codeutilities, user } from \"../main/main\"\r\n\r\nfunction importMenu(){\r\n    var div = document.createElement('div')\r\n\r\n    var toptext = document.createElement('p')\r\n    toptext.innerText = `If you have your code template data, just paste it in. Press the import button, and start editing.`\r\n    div.appendChild(toptext)\r\n\r\n    var imports = document.createElement('div')\r\n    var importField = document.createElement('input')\r\n    importField.type = \"text\"\r\n    importField.placeholder = \"Template Data\";\r\n    importField.onkeyup = () => {(document.getElementById('activateimport') as HTMLButtonElement).click()}\r\n    importField.id = \"importfield\"\r\n    imports.appendChild(importField)\r\n\r\n    var activateImport = document.createElement('button')\r\n    activateImport.innerText = \"Go!\"\r\n    activateImport.style.marginLeft = \"5px\"\r\n    activateImport.id = \"activateimport\";\r\n    activateImport.onclick = () => {sessionStorage.setItem('import',importField.value); location.href = `/edit/`}\r\n    imports.appendChild(activateImport)\r\n    div.appendChild(imports)\r\n    if(cuopen){\r\n        var cuad = document.createElement('p')\r\n        cuad.innerText = \"Or, because you have codeutilities you can go into minecraft, hold your template and type /sendtemplate!\"\r\n        div.appendChild(cuad)\r\n    }\r\n    menu('Import',div)\r\n}\r\n\r\nfunction loginMenu(){\r\n    var div = document.createElement('div');\r\n    if(!sessionStorage.user){\r\n        var howTo = document.createElement('p');\r\n        howTo.innerText = `On diamondfire, type /join 44357.\r\n        Go to slot 9 and click it, find My DFOnline code and click it.\r\n        In chat it should give you a link. Open it and copy the given code.\r\n        Come back here and paste it in. You should be logged in.`\r\n        div.appendChild(howTo)\r\n        var codeSlot = document.createElement('input');\r\n        codeSlot.type = 'text';\r\n        codeSlot.placeholder = 'Code';\r\n        codeSlot.id = \"codeslot\"\r\n        codeSlot.onkeyup = event => {if(event.key == 'Enter'){(document.getElementById('login') as HTMLButtonElement).click()}}\r\n        div.appendChild(codeSlot);\r\n        var loginButton = document.createElement('button');\r\n        loginButton.innerText = \"Login\";\r\n        loginButton.id = \"login\"\r\n        loginButton.onclick = () => login((document.getElementById('codeslot') as HTMLInputElement).value);\r\n        div.appendChild(loginButton);\r\n        menu(\"Login\",div);\r\n    }\r\n}\r\n\r\nwindow.onload = () => {\r\n    startup()\r\n    var userBox = (document.getElementById('user') as HTMLInputElement);\r\n    if(user){\r\n        userBox.innerHTML = user.name;\r\n        userBox.onclick = () => {\r\n            var menuDiv = document.createElement('div');\r\n            var updateButton = document.createElement('button');\r\n            updateButton.innerText = \"Relog\";\r\n            updateButton.onclick = () => login(user.auth);\r\n            menuDiv.appendChild(updateButton);\r\n            var logoutButton = document.createElement('button');\r\n            logoutButton.innerText = \"Logout\";\r\n            logoutButton.onclick = () => {delete(localStorage.user); location.reload();};\r\n            menuDiv.appendChild(logoutButton);\r\n            menu(user.name,menuDiv);\r\n        }\r\n    } else {\r\n        userBox.onclick = loginMenu;\r\n    }\r\n    var importButton = document.getElementById('import') as HTMLButtonElement;\r\n    importButton.onclick = importMenu;\r\n}\r\n\r\ncodeutilities.onmessage = event => {\r\n    var data = JSON.parse(event.data)\r\n    if(data.type === \"template\"){\r\n        var importField = (document.getElementById('importfield') as HTMLInputElement);\r\n        try{\r\n            importField.value = JSON.parse(data.received).code\r\n        }catch{\r\n            importMenu()\r\n            importField.value = JSON.parse(data.received).code\r\n        }\r\n    }\r\n}"],"names":["$f669fd9a7f8eea69$var$importMenu","div","document","createElement","toptext","innerText","appendChild","imports","importField","type","placeholder","onkeyup","getElementById","click","id","activateImport","style","marginLeft","onclick","sessionStorage","setItem","value","location","href","$5dkTx","cuopen","cuad","menu","$f669fd9a7f8eea69$var$loginMenu","user","howTo","codeSlot","event","key","loginButton","login","onload","startup","userBox","innerHTML","name","menuDiv","updateButton","auth","logoutButton","localStorage","reload","onmessage","data","JSON","parse","received","code"],"version":3,"file":"index.527e4010.js.map"}