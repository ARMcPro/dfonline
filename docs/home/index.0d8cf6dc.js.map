{"mappings":"AACA,MAAMA,EAAOC,aAAaC,KAAOC,KAAKC,MAAMH,aAAaC,WAAQG,WAgCxDC,IACL,IAAIC,EAAMC,SAASC,cAAc,OACjC,IAAIC,eAAeR,KAAK,CACpB,IAAIS,EAAQH,SAASC,cAAc,KACnCE,EAAMC,UAAS,2PAOfL,EAAAM,YAASF,GACT,IAAAG,EAAwBN,SAAAC,cAAA,SACxBK,EAASC,KAAO,SAAgBC,YAAoB,OAAkEF,EAACG,GAAA,WACvHH,EAAII,QAAYC,IACE,SAAdA,EAAAC,KAAuBZ,SAAAa,eAAsB,SAAAC,SAEjDf,EAAAM,YAAcC,GACd,IAAAS,EAAYf,SAAgBC,cAAgB,8BAC5Cc,EAAIN,GAAY,QAChBM,EAAYC,QAAI,IAAAC,MAAAjB,SAAAa,eAAA,YAAAK,OAEvBnB,EAAAM,YAAAU,GAEMI,KAAM,QAAUpB,kBAGP,SACRqB,EAAQpB,SAAOa,eAAU,aAEjBQ,UAAY7B,EAAkC8B,OAClDN,QAAa,KACb,IAAAO,EAAavB,SAAOC,cAAe,0CACnCuB,EAAQpB,UAAY,QACpBoB,EAAIR,QAAe,IAAQC,MAACzB,EAAsBiC,MAElDF,EAAAlB,YAAoBmB,OAAUE,EAAO1B,SAAiBC,cAAA,YAAYG,UAAM,SAAGsB,EAACV,QAAA,YACpEvB,aAAYC,KAChBiC,SAACC,UAGTL,EAAQlB,YAAUqB,GAEzBP,KAAA3B,EAAA8B,KAAAC,KAGOH,EAAWJ,QAAOlB,iBAEd+B,UAAelB,QACnBmB,EAAInC,KAAAC,MAAAe,EAAAmB,SACA,eAAAvB,KAAoB,CACxB,IAACwB,EAAM/B,SAAAa,eAAA,mBAEHkB,EAAYb,MAAQvB,KAAKC,MAAMkC,EAAKE,UAAUC,KACjD,kBAnFL,IAAIlC,EAAMC,SAASC,cAAc,OAE7BiC,EAAUlC,SAASC,cAAc,KACrCiC,EAAQ9B,UAAS,qGACjBL,EAAIM,YAAY6B,GAEhB,IAAIC,EAAUnC,SAASC,cAAc,OACjCmC,EAAcpC,SAASC,cAAc,SACzCmC,EAAY7B,KAAO,OACnB6B,EAAY5B,YAAc,gBAC1B4B,EAAY1B,QAAO,KAAWV,SAASa,eAAe,kBAAwCC,SAC9FsB,EAAY3B,GAAK,cACjB0B,EAAQ9B,YAAY+B,GAEpB,IAAIC,EAAiBrC,SAASC,cAAc,UAO5C,GANAoC,EAAejC,UAAY,MAC3BiC,EAAeC,MAAMC,WAAa,MAClCF,EAAe5B,GAAK,iBACpB4B,EAAerB,QAAO,KAAUd,eAAesC,OAAUxC,SAASa,eAAe,eAAoCK,MAAOS,SAASc,KAAO,UAC5IN,EAAQ9B,YAAYgC,GACpBtC,EAAIM,YAAY8B,GACbO,OAAO,CACN,IAAIC,EAAO3C,SAASC,cAAc,KAClC0C,EAAKvC,UAAY,2GACjBL,EAAIM,YAAYsC,GAEpBxB,KAAK,SAASpB,GA0Db6C,GACJb,EAAAb,MAAAvB,KAAAC,MAAAkC,EAAAE,UAAAC","sources":["src/home/home.ts"],"sourcesContent":["let starts = [];\r\nconst user = localStorage.user ? JSON.parse(localStorage.user) : undefined\r\n\r\nfunction importmenu(){\r\n    var div = document.createElement('div')\r\n\r\n    var toptext = document.createElement('p')\r\n    toptext.innerText = `If you have your code template data, just paste it in. Press the import button, and start editing.`\r\n    div.appendChild(toptext)\r\n\r\n    var imports = document.createElement('div')\r\n    var importfield = document.createElement('input')\r\n    importfield.type = \"text\"\r\n    importfield.placeholder = \"Template Data\";\r\n    importfield.onkeyup = () => {(document.getElementById('activateimport') as HTMLButtonElement).click()}\r\n    importfield.id = \"importfield\"\r\n    imports.appendChild(importfield)\r\n\r\n    var activateimport = document.createElement('button')\r\n    activateimport.innerText = \"Go!\"\r\n    activateimport.style.marginLeft = \"5px\"\r\n    activateimport.id = \"activateimport\";\r\n    activateimport.onclick = () => {sessionStorage.import = (document.getElementById('importfield') as HTMLInputElement).value; location.href = \"/edit/\"}\r\n    imports.appendChild(activateimport)\r\n    div.appendChild(imports)\r\n    if(cuopen){\r\n        var cuad = document.createElement('p')\r\n        cuad.innerText = \"Or, because you have codeutilities you can go into minecraft, hold your template and type /sendtemplate!\"\r\n        div.appendChild(cuad)\r\n    }\r\n    menu('Import',div)\r\n}\r\n\r\nfunction loginMenu(){\r\n    var div = document.createElement('div');\r\n    if(!sessionStorage.user){\r\n        var howTo = document.createElement('p');\r\n        howTo.innerText = `On diamondfire, type /join 44357.\r\n        Go to slot 9 and click it, find My DFOnline code and click it.\r\n        In chat it should give you a link. Open it and copy the given code.\r\n        Come back here and paste it in. You should be logged in.`\r\n        div.appendChild(howTo)\r\n        var codeSlot = document.createElement('input');\r\n        codeSlot.type = 'text';\r\n        codeSlot.placeholder = 'Code';\r\n        codeSlot.id = \"codeslot\"\r\n        codeSlot.onkeyup = event => {if(event.key == 'Enter'){(document.getElementById('login') as HTMLButtonElement).click()}}\r\n        div.appendChild(codeSlot);\r\n        var loginButton = document.createElement('button');\r\n        loginButton.innerText = \"Login\";\r\n        loginButton.id = \"login\"\r\n        loginButton.onclick = () => login((document.getElementById('codeslot') as HTMLInputElement).value);\r\n        div.appendChild(loginButton);\r\n        menu(\"Login\",div);\r\n    }\r\n}\r\n\r\nwindow.onload = () => {\r\n    var userBox = (document.getElementById('user') as HTMLInputElement);\r\n    if(user){\r\n        userBox.innerHTML = user.name;\r\n        userBox.onclick = () => {\r\n            var menuDiv = document.createElement('div');\r\n            var updateButton = document.createElement('button');\r\n            updateButton.innerText = \"Relog\";\r\n            updateButton.onclick = () => login(user.auth);\r\n            menuDiv.appendChild(updateButton);\r\n            var logoutButton = document.createElement('button');\r\n            logoutButton.innerText = \"Logout\";\r\n            logoutButton.onclick = () => {delete(localStorage.user); location.reload();};\r\n            menuDiv.appendChild(logoutButton);\r\n            menu(user.name,menuDiv);\r\n        }\r\n    } else {\r\n        userBox.onclick = loginMenu;\r\n    }\r\n}\r\n\r\ncodeutilities.onmessage = event => {\r\n    var data = JSON.parse(event.data)\r\n    if(data.type === \"template\"){\r\n        var importField = (document.getElementById('importfield') as HTMLInputElement);\r\n        try{\r\n            importField.value = JSON.parse(data.received).code\r\n        }catch{\r\n            importmenu()\r\n            importField.value = JSON.parse(data.received).code\r\n        }\r\n    }\r\n}"],"names":["$f669fd9a7f8eea69$var$user","localStorage","user","JSON","parse","undefined","$f669fd9a7f8eea69$var$loginMenu","div","document","createElement","sessionStorage","howTo","innerText","appendChild","codeSlot","type","placeholder","id","onkeyup","event","key","getElementById","click","loginButton","onclick","login","value","menu","userBox","innerHTML","name","menuDiv","updateButton","auth","logoutButton","location","reload","onmessage","data","importField","received","code","toptext","imports","importfield","activateimport","style","marginLeft","import","href","cuopen","cuad","$f669fd9a7f8eea69$var$importmenu"],"version":3,"file":"index.0d8cf6dc.js.map"}